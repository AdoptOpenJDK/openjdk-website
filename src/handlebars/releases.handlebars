{{> header title='Latest build | ' }}

<main class="grey-bg">

  <div id="latest-page">
    <h1 class="large-title">Latest build</h1>

    <div style="margin-bottom: 2rem;">
      <a href="./archive.html" class="blue-button a-button">
        <div>
          <span>Build archive</span>
          <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
        </div>
      </a>
      <a href="./nightly.html" id="nightly-button" class="grey-button a-button">
        <div>
          <span>Nightly builds</span>
          <i class="fa fa-arrow-circle-o-right" aria-hidden="true"></i>
        </div>
      </a>

      <div id="loading"><img src="dist/assets/loading_dots.gif" width="40" height="40"></div>
    </div>

    <div id="latest-container" class="invisible">

      <h2 style="margin-bottom: 0.6rem;">Build <strong><a href="" id="latest-build-name" target="_blank"></a></strong></h2>

      <table id="latest-metadata-table" cellspacing="0" cellpadding="0">
        <tr>
          <td><strong>Date: </strong><span id="latest-date"></span></td>
          <td><strong>Timestamp: </strong><span id="latest-timestamp"></span></td>
        </tr>
      </table>

      <div id="latest-downloads-container">
        <h2 id="latest-select-text" style="margin-bottom: 0.5rem;">Select a platform</h2>
        <h3 id="latest-scroll-text" class="hide">Scroll to select a platform</h3>
        <h1 id="latest-scroll-arrows" class="animated pulse hide">
          <i id="latest-selector-left-scroll" class="fa fa-arrow-circle-left" aria-hidden="true"></i>
          <i id="latest-selector-right-scroll" class="fa fa-arrow-circle-right" aria-hidden="true"></i>
        </h1>

        <table id="latest-table">

          <tr id="latest-selector">
            <script id="template-selector" type="text/x-handlebars-template">
              \{{#each htmlTemplate}}
                <td id='latest-selector-\{{thisPlatform}}' onclick='selectLatestPlatform("\{{thisPlatform}}")'>
                  <img alt='\{{thisOfficialName}} logo' src='\{{thisLogo}}'><var platform-name>\{{thisOfficialName}}</var>
                </td>
              \{{/each}}
            </script>
          </tr>

          <tr id="latest-info">
            <script id="template-info" type="text/x-handlebars-template">
              \{{#each htmlTemplate}}
                <td id='latest-info-\{{thisPlatform}}' class='hide'>
                  <div class='platform-section'>
                    <img alt='\{{thisOfficialName}} logo' src='\{{thisLogo}}'>
                    <h2><var platform-name>\{{thisOfficialName}}</var></h2>
                  </div>
                  <div class='content-section'>

                    \{{#if thisInstallerExists}}
                      <div class='latest-block'>
                        <span>Installer</span>
                        <a href='\{{thisInstallerLink}}' class='latest-download-button a-button installer-dl'>
                          \{{#if thisVerified}}
                            <span class='tick' data-tooltip="This build is JCK approved."><img src='./dist/assets/tick.png' alt="This build is JCK approved."></span>
                          \{{/if}}
                          <div class='large-dl-text'>Download
                            <div class='small-dl-text'><var installer-info>\{{thisInstallerExtension}} - \{{thisInstallerSize}} MB</var></div>
                          </div>
                        </a>
                      </div>
                    \{{/if}}

                    \{{#if thisBinaryExists}}
                      \{{#if thisInstallerExists}}
                        <div class='inline-block binary-grey'>
                      \{{/if}}
                        <div class='latest-block'>
                          <span>Binary</span>
                          <a href='\{{thisBinaryLink}}' class='latest-download-button a-button'>
                            \{{#if thisVerified}}
                              <span class='tick' data-tooltip="This build is JCK approved."><img src='./dist/assets/tick.png' alt="This build is JCK approved."></span>
                            \{{/if}}
                            <div class='large-dl-text'>Download
                              <div class='small-dl-text'><var binary-info>\{{thisBinaryExtension}} - \{{thisBinarySize}} MB</var></div>
                            </div>
                          </a>
                          <div class='latest-details'>
                            <p><a href='\{{thisChecksumLink}}' class='dark-link' target='_blank'>Checksum</a></p>
                          </div>
                        </div>
                      \{{#if thisInstallerExists}}
                        </div>
                      \{{/if}}
                    \{{/if}}

                  </div>
                </td>
              \{{/each}}
            </script>
          </tr>

        </table>

      </div>

    </div>

  </div>

  <div id="error-container"></div>

</main>

{{> footer script='<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.0/moment.js"></script>' script2='<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>' script3='<script>onLatestLoad();</script>' }}
